<a-scene #scene
         gltf-model="dracoDecoderPath: ''"
         light="defaultLightsEnabled: false"
         physics="gravity: 0"
         renderer="colorManagement: true"
         shadow="type: pcfsoft">
  <!-- Load Assets -->
  <a-assets>
    <!-- global -->
    <audio id="success_sound" src="../assets/sounds/success.wav"></audio>
    <audio
      id="unsuccess_sound"
      src="../assets/sounds/unsuccess.wav"></audio>
    <audio id="tap" src="../assets/sounds/tap.wav"></audio>
    <audio id="win" src="../assets/sounds/win.wav"></audio>
    <a-asset-item
      id="museum"
      src="../assets/3dModels/museum_final.glb"></a-asset-item>
    <a-asset-item
      id="navmesh"
      src="../assets/3dModels/navMesh.glb"></a-asset-item>
    <a-asset-item
      id="coin"
      src="../assets/3dModels/coin.glb"></a-asset-item>
    <a-asset-item
      id="svMartin"
      src="../assets/3dModels/svMartin.glb"></a-asset-item>
    <a-asset-item
      id="blava"
      src="../assets/3dModels/blava.glb"></a-asset-item>
    <a-asset-item
      id="crown"
      src="../assets/3dModels/crown.glb"></a-asset-item>
    <a-asset-item id="cup" src="../assets/3dModels/cup.glb"></a-asset-item>
    <a-asset-item
      id="apple_coat"
      src="../assets/3dModels/apple_coat.glb"></a-asset-item>
    <a-asset-item
      id="sword"
      src="../assets/3dModels/sword.glb"></a-asset-item>
    <a-asset-item
      id="mace"
      src="../assets/3dModels/mace.glb"></a-asset-item>
    <a-asset-item
      id="book"
      src="../assets/3dModels/book.glb"></a-asset-item>
    <img
      id="erb"
      src="../assets/images/Middle_Coat_of_Arms_of_Maria_Theresa,_Holy_Roman_Empress.svg.png"/>
    <img
      id="maria"
      src="../assets/images/Kaiserin_Maria_Theresia_(HRR)-min.jpg"/>
    <img
      id="jozef"
      src="../assets/images/Joseph_Hickel_-_Emperor_Joseph_II,_pair-min.png"/>
    <img
      id="frantisek"
      src="../assets/images/Meytens,_studio_or_circle_of_-_Francis_I,_Holy_Roman_Emperor-min.png"/>
    <img
      id="karol"
      src="../assets/images/Portrait_of_Emperor_Charles_VI_in_armour,_decorated_with_the_Order_of_the_Golden_Fleece-min.jpg"/>

    <img id="map" src="../assets/images/map.png"/>

    <img id="controls" src="../assets/images/Keyboard_controls.png"/>
    <img id="museumMap" src="../assets/images/museum-map.png"/>
    <img id="infoPanel" src="../assets/images/Panel.png"/>
    <img id="infoIcon" src="../assets/images/info-circle.png"/>
    <img id="unselected" src="../assets/images/slash-circle-fill-red.png"/>
    <img id="selected" src="../assets/images/check-circle-fill-green.png"/>
    <a-mixin
      draggable
      droppable
      dynamic-body
      grabbable
      hoverable
      id="canGrab"
      sleepy></a-mixin>
  </a-assets>

  <!-- Environment -->
  <a-entity
    environment="preset: yavapai; skyType: atmosphere; playArea: 1.2; [attr.lightPosition]: -0.24 30 -1">
  </a-entity>

  <!-- AVATAR BODY ------------->
  <a-entity
    id="player"
    material="color: green; wireframe: true; visible: true"
    movement-controls="constrainToNavMesh: true"
    physics-collider
    position="8.275 1 2.93"
    sound="src: #win; on: win; poolSize: 1;"
    static-body="shape: sphere; sphereRadius: 0.02">
    <a-entity
      body="type: static; shape: sphere; sphereRadius: 0.001"
      camera
      id="playerhead"
      look-controls="pointerLockEnabled:true"
      position="0 1.75 0"
      super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             colliderEndEvent:raycaster-intersection-cleared;
                             colliderEndEventProperty: clearedEls;">
      <a-entity
        cursor="fuse: true; fuseTimeout: 0"
        geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.009"
        material="color: green; shader: flat"
        position="0 0 -1"
        raycaster="objects: .interactible, .P3C, .P3I, .P4C, P4I, .P5C">
      </a-entity>
    </a-entity>
  </a-entity>

  <!-- Map and navigationMesh ---------------------------------------------------------------------->
  <a-entity [attr.gltf-model]="'#museum'" position="0 1 16"></a-entity>
  <a-entity
    [attr.gltf-model]="'#navmesh'"
    nav-mesh
    position="0 1 16"
    visible="false"></a-entity>

  <!-- Middle Space ------------------------------------------------------------------------------->
  <a-entity id="WelcomMsg" position="6.536 4.5 -1.841">
    <a-text
      color="#333333"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="0 0.7 0"
      text="width: 3; wrapCount: 20"
      value="Osvietenstvo v Habsburskej monarchii">
    </a-text>
    <a-text
      color="#4F4F4F"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position=""
      text="width: 3; wrapCount: 50"
      value="Vitajte vo virtuálnej scéne, vytvorenej pomocou technológií webovej virtuálnej (VR) a rozšírenej (XR) reality. Scéna, v ktorej sa nachádzate je expozíciou zameranou na obdobie osvietenských reforiem v Habsburskej monarchii.">
    </a-text>
    <a-text
      color="#4F4F4F"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="0 -0.75 0"
      text="width: 3; wrapCount: 50"
      value="Táto expozícia pozostáva z troch vzájomne prepojených miestností, ktoré obsahujú 16 zaujímavých exponátov. A sú tu pre vás pripravené tri úlohy na splnenie. Kde úlohy nájdete, zistíte na informačnom paneli oproti. Prajeme vám veľa šťastia a zábavy pri ich úspešnom plnení a preskúmavaní expozície.">
    </a-text>
    <a-text
      align="right"
      anchor="left"
      color="#4F4F4F"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="0.2 -1.24907 0"
      text="width: 3; value: - Adam Kašela, Štefan Korečko; wrapCount: 50"
      value="Táto scéna pozostáva z 3 vzájomne prepojených miestností, ktoré obsahujú 16 zaujímavých expozícií, v ktorých musíte splniť nejaké úlohy. Prajeme vám veľa šťastia pri ich úspešnom dokončení, neváhajte a preskúmajte tento zažitok.">
    </a-text>
    <a-image
      [attr.position]="'1.76035 -2.26774 0.00962'"
      [attr.src]="'#controls'"
      height="1.5"
      width="3">
    </a-image>
  </a-entity>

  <a-entity
    id="gratulationMsg"
    position="10.236 1.767 7.996"
    rotation="0 180 0"
    visible="false">
    <a-text
      color="#333333"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="0 0.7 0"
      text="width: 3; wrapCount: 20"
      value="Gratulujeme">
    </a-text>
    <a-text
      color="#4F4F4F"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="0 0.2 0"
      text="width: 3; wrapCount: 50"
      value="Úspešne ste dokončili všetky úlohy v scéne. Pokial si chcete tento zážitok zopakovať ešte raz, stačí obnoviť stránku.">
    </a-text>
  </a-entity>
  <a-image
    [attr.position]="'8.21406 4.35163 7.976'"
    [attr.src]="'#museumMap'"
    height="3.23"
    id="map"
    rotation="0 180 0"
    width="4.79">
  </a-image>
  <a-circle
    id="P1confirmProgress"
    material="color: red; side: double; shader: flat"
    position="6.90593 3.5 7.956"
    rotation="0 180 0"
    scale="0.07 0.07 0.07"></a-circle>
  <a-circle
    id="P2confirmProgress"
    material="color: red; side: double; shader: flat"
    position="6.90593 3.3 7.956"
    rotation="0 180 0"
    scale="0.07 0.07 0.07"></a-circle>
  <a-circle
    id="P3confirmProgress"
    material="color: red; side: double; shader: flat"
    position="6.90593 3.1 7.956"
    rotation="0 180 0"
    scale="0.07 0.07 0.07"></a-circle>

  <a-image
    [attr.position]="'8.248 3.374 -2.099'"
    [attr.src]="'#erb'"
    height="2.42"
    rotation="0 180 0"
    width="2">
    <a-entity
      class="infoPanels"
      position="0.247 -1.515 0.115"
      rotation="0 90 0">
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.23942"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.02688 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="MariaTerezia"
            negate="false"
            position="-0.550 0.434 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Erb Márie Terézie">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="MariaTereziaDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="cisárovná Svätej rímskej ríše nemeckého národa (zdieľané), Kráľovná Uhorska, Česka, Chorvátska a Slavónska, Arcivojvodkyňa Rakúska, Vojvodkyňa Parmy a Piacenzy, Veľkovojvodkyňa Toskánska.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-image>

  <a-entity [attr.gltf-model]="'#coin'" position="0 1 16">
    <a-entity
      class="infoPanels"
      position="7.401 1.246 -4.877"
      rotation="0 0 0">
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.23942"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'0 1.205 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="Toliar"
            negate="false"
            position="-0.550 0.7 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Toliar Márie Terézie">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="ToliarDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Mária Terézia nechala počas svojej vlády vyraziť skoro 300 typov medených, strieborných  mincí. Jednou z najslávnejších mincí uvedenej panovníčky sú toliare nazývané levantské. Razili  sa v oblasti Predného Rakúska. Norma na ich razbu stanovovala nasledujúce parametre: veľkosť 40-41 mm, hmotnosť 28,06 g, obsahovali až 83,3 percent čistého striebra. Tieto mince boli v dobe svojej razby jednými z najreprezentatívnejších platidiel cisárovnej Márie Terézie.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-entity>

  <a-entity [attr.gltf-model]="'#blava'" position="0 1 16">
    <a-entity
      class="infoPanels"
      position="6.71663 1.30132 -20.8599"
      rotation="0 90 0">
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.23942"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-plane
          [attr.position]="'-0.02688 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="BratislavskyHrad"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Bratislavský hrad">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="BratislavskyHradDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Jadro hradu tvorí palác lichobežníkového tvaru, ktorý dal postaviť cisár Žigmund Luxemburský ako svoju rezidenciu a zároveň pevnosť proti husitom. Dnešnú podobu so štyrmi nárožnými vežičkami získal hrad v 17. storočí. V najväčšej z nich Korunnej veži sa uschovávali korunovačné klenoty. Najreprezentatívnejší charakter získal hrad počas panovania Márie Terézie, ktorá k hradnému palácu pristavala nové hospodárske budovy a založila záhrady.">
          </a-text>
        </a-plane>
      </a-circle>
    </a-entity>
  </a-entity>
  <!-- Exposition Room 1 ------------------------------------------------------------------------------->
  <a-box
    collision-detector="collisionEvent: P1; clearedCollisionEvent: Roaming"
    id="place1"
    material="color: red; wireframe: true"
    physics-collider
    position="-5.889 1.167 10.203"
    scale="7.920 0.2 7"
    static-body
    visible="false">
  </a-box>
  <a-image
    [attr.position]="'-5.7592 2.3 13.02616'"
    [attr.src]="'#infoPanel'"
    height="1.170"
    id="taskP1"
    rotation="-8.68 180 0"
    visible="false"
    width="1.2">
    <a-text
      class="uloha"
      color="#F2F2F2"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="-0.411 0.3 0"
      text="width: 1.2; wrapCount: 20; alphaTest: 3"
      value="Úloha">
    </a-text>
    <a-text
      color="#F2F2F2"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P1question"
      negate="false"
      position="-0.411 0.02749 0.01946"
      text="width: 0.8; wrapCount: 20; alphaTest: 3"
      value="Kto nastúpil v roku 1740 na Habsburgský trón? Označte jeho alebo jej portrét.">
    </a-text>
    <a-text
      align="center"
      animation="property: scale; dur: 400; easing: easeInOutSine; dir: normal; loop: false; from: 0.54 0.35 1.1; to: 0.44 0.25 1; startEvents: click;"
      clk-single-event-handler="name: P1confirm"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      geometry="primitive: plane; height: 0.78; width: 2.020"
      id="P1confirm"
      material="color: #338cd8; flatShading: true; height: 254.55; width: 492.44"
      negate="false"
      position="0 -0.29141 0.01752"
      scale="0.44 0.25 1"
      sound__success="src: #success_sound; on: success; poolSize: 2"
      sound__unsuccess="src: #unsuccess_sound; on: unsuccess; poolSize: 2"
      text="width: 1.84; value: Potvrdiť Odpoveď; color: #e3e3e3; wrapCount: 15.94"></a-text>
  </a-image>

  <a-image
    [attr.position]="'-2.177 3.354 11.266'"
    [attr.src]="'#maria'"
    height="2.42"
    rotation="0 -90 0"
    width="2">
    <a-entity
      class="infoPanels"
      position="0.395 -1.380 0.025"
      rotation="0 90 0">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P1Cselect; secondToggleEvent: P1Cunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1MariaTerezia"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Mária Terézia">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1MariaTereziaDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Mária Terézia (1717-1780), najstaršia dcéra nemeckého cisára Karola VI., posledného mužského potomka Habsburgovcov, nastúpila na trón na základe tzv. pragmatické sankcie. Aj keď nebola vychovávaná ako budúca vládkyňa, dokázala sa tejto úlohy naplno zhostiť. Vyhýbala sa konfliktom a svoje panovnícke rozhodnutia konzultovala s okruhom spolupracovníkov. Jej manželstvo napriek tomu, že bolo politicky dohodnutým sobášom bolo veľmi šťastné. Okrem vladárskych povinností si Mária Terézia príkladne plnila aj materské povinnosti. Mala 16 deti.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-image>

  <a-image
    [attr.position]="'-2.177 3.354 8.379'"
    [attr.src]="'#karol'"
    height="2.42"
    rotation="0 -90 0"
    width="2">
    <a-entity
      class="infoPanels"
      position="0.395 -1.380 0.025"
      rotation="0 90 0">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P1Iselect; secondToggleEvent: P1Iunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1Karol"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Karol VI. Habsburský">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1KarolDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Karol VI. Habsburský (1685 - 1740) bol rakúsky arcivojvoda, rímskonemecký cisár, španielsky, uhorský a český kráľ z rodu Habsburgovcov, mladší syn cisára Leopolda I. a jeho tretej manželky Eleonóry Magdalény Falcko-neuburskej. Po svojom nástupe na cisársky trón a uzavretím Satmárskeho mieru zriadil schválením uhorského snemu stálu armádu, čo mu umožnilo zlikvidovať posledné zvyšky osmanského panstva v Uhorsku. Po definitívnom vytlačení Turkov z Uhorska nastúpil kurz hospodárskej a politickej konsolidácie monarchie.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-image>

  <a-image
    [attr.position]="'-9.518 3.354 11.266'"
    [attr.src]="'#jozef'"
    height="2.42"
    rotation="0 90 0"
    width="2">
    <a-entity
      class="infoPanels"
      position="0.395 -1.380 0.025"
      rotation="0 90 0">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P1Iselect; secondToggleEvent: P1Iunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1Jozef"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Jozef II. Habsburský">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1JozefDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Jozef II. (1741 - 1790) bol pripravovaný na to, že sa raz stane panovníkom. Ako šesťročný vedel písať a čítať vo viacerých jazykoch. Dostal dôkladné vzdelanie, jeho učiteľmi boli významní osvietenci. Nedal sa korunovať za uhorského a českého kráľa, preto ho šľachta posmešne nazývala „klobúkový kráľ”. Ešte v roku 1765 však bol korunovaný za nemeckého cisára. Už ako spoluvládca Mánie Terézie kritizoval pomalé a nedôsledné zavádzanie reforiem.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-image>

  <a-image
    [attr.position]="'-9.518 3.354 8.379'"
    [attr.src]="'#frantisek'"
    height="2.42"
    rotation="0 90 0"
    width="2">
    <a-entity
      class="infoPanels"
      position="0.395 -1.380 0.025"
      rotation="0 90 0">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P1Iselect; secondToggleEvent: P1Iunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1Frantisek"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="František I. Štefan Lotrinský">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P1FranisekDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="František Štefan I. Lotrinský (1708 - 1765) bol lotrinský vojvoda, toskánsky veľkovojvoda a cisár svätej ríše Rímskej. Svoje nie veľmi úspešné pôsobenie ako cisár si plne vynahradil v podnikateľskej oblasti, v ktorej prejavil mimoriadne nadanie. Základom jeho majetku sa stalo ohromné dedičstvo, ktoré mu poslúžilo na rozvoj podnikania. Okrem manufaktúr založil niekoľko bánk, stal sa hlavným dodávateľom pre habsburskú armádu, počas sedemročnej vojny dokonca zásoboval i armádu pruského kráľa Fridricha II.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-image>

  <!-- Exposition Room 2 ------------------------------------------------------------------------------->
  <a-box
    collision-detector="collisionEvent: P2; clearedCollisionEvent: Roaming"
    id="place2"
    material="color: red; wireframe: true"
    physics-collider
    position="-5.889 1.167 -3.74901"
    scale="7.92 0.2 7"
    static-body
    visible="false">
  </a-box>

  <a-image
    [attr.position]="'-5.7592 2.3 -6.5'"
    [attr.src]="'#infoPanel'"
    height="1.170"
    id="taskP2"
    rotation="-8.68 0 0"
    visible="false"
    width="1.2">
    <a-text
      class="uloha"
      color="#F2F2F2"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="-0.411 0.3 0"
      text="width: 1.2; wrapCount: 20; alphaTest: 3"
      value="Úloha">
    </a-text>
    <a-text
      color="#F2F2F2"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P2question"
      negate="false"
      position="-0.411 0.01 0.00816"
      text="width: 0.8; wrapCount: 20; alphaTest: 3"
      value="Označte exponáty s reformami, ktoré zaviedla Mária Terézia.">
    </a-text>
    <a-text
      align="center"
      animation="property: scale; dur: 400; easing: easeInOutSine; dir: normal; loop: false; from: 0.54 0.35 1.1; to: 0.44 0.25 1; startEvents: click;"
      clk-single-event-handler="name: P2confirm"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      geometry="primitive: plane; height: 0.78; width: 2.020"
      id="P2confirm"
      material="color: #338cd8; flatShading: true; height: 254.55; width: 492.44"
      negate="false"
      position="0 -0.30236 0.00878"
      scale="0.45 0.25 1"
      sound__success="src: #success_sound; on: success; poolSize: 2"
      sound__unsuccess="src: #unsuccess_sound; on: unsuccess; poolSize: 2"
      text="class: confirm; width: 1.84; value: Potvrdiť Odpoveď; color: #e3e3e3; wrapCount: 15.94"></a-text>
  </a-image>

  <a-entity
    [attr.gltf-model]="'#book'"
    position="-8.768 2.640 -2.599"
    rotation="0 180 60">
    <a-text
      color="#c6c480"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P2ZdravotnaReformaBook"
      negate="false"
      position="0.00487 0.11162 -0.21353"
      rotation="-90 0 -90"
      text="width: 0.8; wrapCount: 33; alphaTest: 3"
      value="ZDRAVOTNÁ REFORMA">
    </a-text>
    <a-entity
      class="infoPanels"
      position="-0.633 0.230 0.422"
      rotation="0 0 -60">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P2Cselect; secondToggleEvent: P2Cunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2ZdravotnaReforma"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Zdravotná reforma">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2ZdravotnaReformaDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Zriadenie komisií, ktoré mali chrániť obyvateľstvo pred nákazlivými chorobami a tiež mali vykonávať osvetu u prostého obyvateľstva. Kontrolovali zdravotnícke zariadenia, bojovali proti šíreniu moru a iných nákazlivých chorôb a radili obyvateľstvu stavať murované domy, nie drevené. Komisie nariaďovali aj očkovanie proti chorobám.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-entity>

  <a-entity
    [attr.gltf-model]="'#book'"
    position="-8.768 2.640 -5.780"
    rotation="0 180 60">
    <a-text
      color="#c6c480"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P2TezezianskyUrbarBook"
      negate="false"
      position="0.00487 0.11162 -0.21353"
      rotation="-90 0 -90"
      text="width: 0.8; wrapCount: 33; alphaTest: 3"
      value="TEREZIÁNSKY URBÁR">
    </a-text>
    <a-entity
      class="infoPanels"
      position="-0.633 0.230 0.422"
      rotation="0 0 -60">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P2Cselect; secondToggleEvent: P2Cunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2TerezianskyUrbar"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Tereziánsky urbár">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2TerezianskyUrbarDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Tereziánsky urbár určoval veľkosť poddanskej závislosti, na základe ktorej ustanovil povinnosti poddaných voči zemepánovi. Tak sa zo súkromno-právneho vzťahu medzi zemepánom a poddaným stal verejnoprávny vzťah, čím sa zlepšilo sociálne postavenie poddaných. Urbáre boli písané v jazyku ľudu, teda v slovenských oblastiach po slovensky. Urbárska regulácia upravovala poddanské pomery až do roku 1848, keď bolo poddanstvo zrušené.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-entity>

  <a-entity
    [attr.gltf-model]="'#book'"
    position="-2.904 2.640 -2.599"
    rotation="0 0 60">
    <a-text
      color="#c6c480"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P2SkolskyPoriadokBook"
      negate="false"
      position="0.00487 0.11162 -0.21694"
      rotation="-90 0 -90"
      text="width: 0.7; wrapCount: 27.25; alphaTest: 3"
      value="VŠEOBECNÝ ŠKOLSKÝ PORIADOK">
    </a-text>
    <a-entity
      class="infoPanels"
      position="-0.633 0.230 0.422"
      rotation="0 0 -60">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P2Cselect; secondToggleEvent: P2Cunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-image
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2SkolskyPoriadok"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Všeobecný školský poriadok">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2SkolskyPoriadokDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Podľa neho malo nárok na vzdelanie každé dieťa na území habsburskej monarchie, bez ohľadu na pôvod, miesto bydliska alebo pohlavie. V každej dedine sa mala založiť škola, v ktorej sa deti mali učiť tzv. trivium, teda čítať, písať a počítať, čím sa položili základy všeobecnej gramotnosti.  Všeobecný školský poriadok rozdelil školy na štyri základné typy  Ľudové školy (triviálne, hlavné a normálne),  Latinské gramatické školy, Gymnáziá a Univerzity a lýceá.">
          </a-text>
        </a-image>
      </a-circle>
    </a-entity>
  </a-entity>

  <a-entity
    [attr.gltf-model]="'#book'"
    position="-2.904 2.640 -5.780"
    rotation="0 0 60">
    <a-text
      color="#c6c480"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P2PatentBook"
      negate="false"
      position="0.00487 0.11162 -0.21694"
      rotation="-90 0 -90"
      text="width: 0.7; wrapCount: 27.25; alphaTest: 3"
      value="PATENT O ZRUŠENÍ NEVOĽNÍCTVA">
    </a-text>
    <a-entity
      class="infoPanels"
      position="-0.633 0.230 0.422"
      rotation="0 0 -60">
      <a-circle
        animation="property: rotation; dur: 200; easing: easeInOutSine; dir: alternate; loop: false; from: 0 90 0; to: 0 -90 0; startEvents: click;"
        class="interactible"
        clk-multi-event-handler="firstToggleEvent: P2Iselect; secondToggleEvent: P2Iunselect"
        material="src: #unselected; side: double; shader: flat"
        position="0 0 -0.60927"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"></a-circle>
      <a-circle
        animation="property: scale; dur: 300; easing: easeInOutQuad; dir: alternate; loop: false; from: 0 0 0; to: 1 1 1; startEvents: click;"
        class="interactible"
        material="src: #infoIcon; side: double; shader: flat"
        position="0 0 -0.21117"
        radius="0.15"
        rotation="0 -90 0"
        sound="src: #tap; on: click; poolSize: 2"
        toggle-info>
        <a-plane
          [attr.position]="'-0.19709 1.216 0'"
          [attr.src]="'#infoPanel'"
          height="2"
          visible="false"
          width="1.5">
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2Patent"
            negate="false"
            position="-0.550 0.6 0"
            text="width: 1.1; wrapCount: 20; alphaTest: 3"
            value="Patent o zrušení nevoľníctva">
          </a-text>
          <a-text
            color="#F2F2F2"
            font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
            id="P2PatentDescription"
            negate="false"
            position="-0.550 0 0"
            text="width: 1.1; wrapCount: 33; alphaTest: 3"
            value="Patent o zrušení nevoľníctva umožnil poddaným, aby sa slobodne sťahovali, sobášili, dávali deti na remeslo a štúdium. Predtým potrebovali súhlas zemepána. Vydanie patentu urýchlilo sťahovanie voľnej pracovnej sily do miest a priemyselných stredísk.">
          </a-text>
        </a-plane>
      </a-circle>
    </a-entity>
  </a-entity>

  <!-- Exposition Room 3 ------------------------------------------------------------------------------->
  <!--  <a-entity id="collisionWalls" visible="false">-->
  <!--    <a-plane-->
  <!--      scale="7.92 20.24 20.36"-->
  <!--      position="22.543 2.263 3.0333"-->
  <!--      rotation="-90 0 0"-->
  <!--      static-body></a-plane>-->
  <!--    <a-plane-->
  <!--      scale="7.92 20.24 20.36"-->
  <!--      position="22.543 5.98686 3.0333"-->
  <!--      rotation="90 0 0"-->
  <!--      static-body></a-plane>-->
  <!--    <a-plane-->
  <!--      scale="7.92 5.52 20.36"-->
  <!--      position="22.543 4.077 -7.10858"-->
  <!--      static-body></a-plane>-->
  <!--    <a-plane-->
  <!--      scale="7.92 5.52 20.36"-->
  <!--      position="22.543 4.077 13.37271"-->
  <!--      static-body-->
  <!--      rotation="180 0 0"></a-plane>-->
  <!--    <a-plane-->
  <!--      scale="20.35 4.509 0.00001"-->
  <!--      position="18.868 3.67585 3.1656"-->
  <!--      rotation="0 90 0"-->
  <!--      static-body></a-plane>-->
  <!--    <a-plane-->
  <!--      scale="20.35 4.509 0.00001"-->
  <!--      position="26.17209 3.67585 3.1656"-->
  <!--      rotation="180 90 0"-->
  <!--      static-body></a-plane>-->
  <!--  </a-entity>-->

  <a-box
    collision-detector="collisionEvent: place; clearedCollisionEvent: displace; placeColliderType: false"
    collision-filter="collisionForces: false"
    id="pedestal"
    material="color: red; opacity: 0.15"
    physics-collider
    position="22.51704 3.933 -5.80505"
    scale="3.69 2.8 2.28"
    sound="src: ../assets/sounds/tap.wav; on: collisions; poolSize: 2"
    static-body="shape:sphere">
  </a-box>

  <a-box
    collision-detector="collisionEvent: P3; clearedCollisionEvent: Roaming"
    id="place3"
    material="color: red; wireframe: true"
    physics-collider="ignoreSleep: true"
    position="22.543 1.167 3.142"
    scale="7.920 0.2 20.360"
    static-body
    visible="false">
  </a-box>

  <a-image
    [attr.position]="'19.584 2.35122 -4.565'"
    [attr.src]="'#infoPanel'"
    height="1.170"
    id="taskP3"
    rotation="-8.68 0 0"
    visible="false"
    width="1.2">
    <a-text
      class="uloha"
      color="#F2F2F2"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      negate="false"
      position="-0.411 0.34394 0.00671"
      text="width: 1.2; wrapCount: 20; alphaTest: 3"
      value="Úloha">
    </a-text>
    <a-text
      color="#F2F2F2"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      id="P3question"
      negate="false"
      position="-0.411 0.02874 0.01202"
      text="width: 0.8; wrapCount: 20; alphaTest: 3"
      value="Nájdite Uhorské korunovačné insígnie v miestnosti a preneste ich na prázdny podstavec napravo.">
    </a-text>
    <a-text
      align="center"
      animation="property: scale; dur: 400; easing: easeInOutSine; dir: normal; loop: false; from: 0.54 0.35 1.1; to: 0.44 0.25 1; startEvents: click;"
      clk-single-event-handler="name: P3confirm"
      font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
      geometry="primitive: plane; height: 0.78; width: 2.020"
      id="P3confirm"
      material="color: #338cd8; flatShading: true; height: 254.55; width: 492.44"
      negate="false"
      position="0 -0.33365 0.004"
      scale="0.44 0.25 1"
      sound__success="src: #success_sound; on: success; poolSize: 2"
      sound__unsuccess="src: #unsuccess_sound; on: unsuccess; poolSize: 2"
      text="class: confirm; width: 1.84; value: Potvrdiť Odpoveď; color: #e3e3e3; wrapCount: 15.94"></a-text>
  </a-image>

  <a-entity
    [attr.gltf-model]="'#crown'"
    class="P3C"
    mixin="canGrab"
    position="22.582 2.456 12.098"></a-entity>
  <a-text
    align="center"
    font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
    geometry="primitive: plane; height: 0.78; width: 1.16"
    id="P3Koruna"
    material="color: #363636; flatShading: true; height: 254.55; width: 491.86"
    negate="false"
    position="22.508 2.133 11.528"
    rotation="0 180 0"
    scale="0.4 0.2 1"
    text="color: #e3e3e3; wrapCount: 8.12"
    value="Koruna"
    width="1"></a-text>

  <a-entity
    [attr.gltf-model]="'#cup'"
    class="P3I"
    mixin="canGrab"
    position="19.548 2.631 8.807"></a-entity>
  <a-text
    align="center"
    font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
    geometry="primitive: plane; height: 0.78; width: 1.16"
    id="P3Casa"
    material="color: #363636; flatShading: true; height: 254.55; width: 491.86"
    negate="false"
    position="19.985 2.133 8.820"
    rotation="0 90 0"
    scale="0.4 0.2 1"
    text="color: #e3e3e3; wrapCount: 8.12"
    value="Čaša"
    width="1"></a-text>

  <a-entity
    [attr.gltf-model]="'#apple_coat'"
    class="P3C"
    mixin="canGrab"
    position="25.467 2.456 12.031"></a-entity>
  <a-text
    align="center"
    font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
    geometry="primitive: plane; height: 0.78; width: 1.16"
    id="P3Jablko"
    material="color: #363636; flatShading: true; height: 254.55; width: 491.86"
    negate="false"
    position="25.05639 2.13372 11.98706"
    rotation="0 -90 0"
    scale="0.4 0.2 1"
    text="color: #e3e3e3; wrapCount: 8.12"
    value="Jablko a Plášt"
    width="1"></a-text>

  <a-entity
    [attr.gltf-model]="'#sword'"
    class="P3C"
    mixin="canGrab"
    position="25.426 3.408 8.866"></a-entity>
  <a-text
    align="center"
    font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
    geometry="primitive: plane; height: 0.78; width: 1.16"
    id="P3Mec"
    material="color: #363636; flatShading: true; height: 254.55; width: 491.86"
    negate="false"
    position="25.05639 2.13372 8.82306"
    rotation="0 -90 0"
    scale="0.4 0.2 1"
    text="color: #e3e3e3; wrapCount: 8.12;"
    value="Meč"
    width="1"></a-text>

  <a-entity
    [attr.gltf-model]="'#mace'"
    class="P3C"
    mixin="canGrab"
    position="19.505 3.773 11.937"></a-entity>
  <a-text
    align="center"
    font="../assets/fonts/WorkSans-VariableFont_wght-msdf.json"
    geometry="primitive: plane; height: 0.78; width: 1.16"
    id="P3Zezlo"
    material="color: #363636; flatShading: true; height: 254.55; width: 491.86"
    negate="false"
    position="19.985 2.133 11.987"
    rotation="0 90 0"
    scale="0.4 0.2 1"
    text="color: #e3e3e3; wrapCount: 8.12"
    value="Žezlo"
    width="1"></a-text>
</a-scene>
